<app-product-view #product></app-product-view>
<mat-card>
  <div class="table-container mat-elevation-z8">
    <div>
      End Date
      <input type="date" [ngModel] ="endDate | date:'yyyy-MM-dd'" (ngModelChange)="endDate = $event">
    </div>
    <div class="table-controls">
      <mat-radio-group [(ngModel)]="recommendation" (change)="filterRecommendation()">
        <mat-radio-button value="buy">Buy</mat-radio-button>
        <mat-radio-button value="sell">Sell</mat-radio-button>
        <mat-radio-button value="">Any</mat-radio-button>
      </mat-radio-group>
    </div>
    <div id="tableContainer" class="tableContainer">
      <table border="0" cellpadding="0" cellspacing="0" width="100%" class="scrollTable">
        <thead class="fixedHeader">
          <tr>
            <th>Stock</th>
            <th>Returns</th>
            <th>Last Volume</th>
            <th>Last Price</th>
            <th>Trades</th>
            <th>Algorithm 2 Returns</th>
            <th>Algorithm 1</th>
            <th>Algorithm 2</th>
          </tr>
        </thead>
        <tbody class="scrollContent">
          <tr *ngFor="let element of stocks">
            <td>
              <span> {{element.stock}}
              </span>
            </td>
            <td>
              <span> {{element.totalReturns}}%
                <button mat-button color="primary" (click)="buy(element)">BUY</button>
              </span>
            </td>
            <td>
              <span> {{element.lastVolume | number}}
                <button mat-button color="warn" (click)="sell(element)">SELL</button>
              </span>
            </td>
            <td>
              <span>
                {{element.lastPrice | currency}}
              </span>
            </td>
            <td>
              <span>
                {{element.totalTrades}}
              </span>
            </td>
            <td>
                <span> 
                  {{element.returns}}%
                </span>
              </td>
            <td>
              <span>
                {{element.trending}}
                <button mat-icon-button (click)="product.load(element)">
                  <mat-icon>show_chart</mat-icon>
                </button>
              </span>
            </td>
            <td>
              <span>
                {{element.recommendation}}
                <button mat-icon-button (click)="product.loadV2Chart(element, endDate)">
                  <mat-icon>show_chart</mat-icon>
                </button>
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</mat-card>